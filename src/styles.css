/* ===== UI Reset & Tokens (tema claro + brand) ===== */
:root{
  --brand: #701B32; --brand-r: 112; --brand-g: 27; --brand-b: 50;
  --bg: #ffffff;
  --panel: #f9f9f9;
  --panel-2: #f3f3f3;
  --text: #111111;
  --muted: #555555;
  --line: #cfcfcf;
  --line-soft: #e6e6e6;
  --ok: #25c08a; --warn: #e5a100; --bad: #e5484d;
  --radius: 12px;
  --shadow: 0 8px 24px rgba(0,0,0,.08);
  --hover-neon: 0 0 10px rgba(var(--brand-r), var(--brand-g), var(--brand-b), .20);
  --focus-neon: 0 0 0 2px rgba(var(--brand-r), var(--brand-g), var(--brand-b), .65),
                0 0 14px rgba(var(--brand-r), var(--brand-g), var(--brand-b), .35);
}
*{ box-sizing: border-box; }
html, body, #root{ height: 100%; }
body{
  margin: 0; background: var(--bg); color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}

/* ===== Layout base ===== */
.page{ max-width: 1200px; margin: 0 auto; padding: 20px 16px 96px; display: flex; flex-direction: column; gap: 12px; }
.last-update{ text-align: center; color: var(--muted); font-size: 13px; }

/* ===== Buscador + filtros (2 filas) ===== */
.search-bar{ display: flex; flex-direction: column; gap: 14px; align-items: center; margin: 12px 0 10px; }
.search-row{ width: 100%; display: flex; justify-content: center; }
.search-row input[type="text"]{
  width: min(560px, 90%); height: 46px; padding: 0 14px; border-radius: 12px;
  border: 2px solid var(--brand); background: #fff; color: #111; outline: none;
  text-align: center; box-shadow: var(--hover-neon);
  transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.search-row input[type="text"]::placeholder{ color: #777; opacity: .9; text-align: center; }
.search-row input[type="text"]:hover{ box-shadow: var(--hover-neon); }
.search-row input[type="text"]:focus{ box-shadow: var(--focus-neon); }

.controls-row{ display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
.controls-row select,
.controls-row .sort-button{
  height: 44px; padding: 0 14px; border-radius: 12px; border: 2px solid var(--brand);
  background: #fff; color: #111; text-align: center; text-align-last: center;
  cursor: pointer; box-shadow: var(--hover-neon);
  transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.controls-row .sort-button:hover, .controls-row select:hover{ background: #faf7f8; }
.controls-row .sort-button:focus, .controls-row select:focus{ outline: none; box-shadow: var(--focus-neon); }
.controls-row .category-select, .controls-row .category-dropdown{ display: contents; text-align: center; }

/* Header con logos */
.app-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  margin-bottom: 10px;
}

.app-header .logo {
  object-fit: contain;
}

.app-header .logo.left {
  height: 60px;
}

.app-header .logo.right {
  height: 30px;
}

/* ===== Tabla densa ===== */
.card-grid, .grid, .cards{ display: contents; }
.table-wrap{
  margin-top: 6px; background: var(--panel); border: 1px solid var(--line);
  border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow);
}
.data-table{
  width: 100%; border-collapse: separate; border-spacing: 0; table-layout: fixed; font-size: 14px;
}

/* Cabecera (centrada) */
.data-table thead th{
  position: sticky; top: 0; z-index: 10;
  background: #f4f4f4; color: var(--muted);
  text-align: center; font-weight: 600; letter-spacing: .2px;
  padding: 12px 14px; border-bottom: 1px solid var(--line);
}
/* Anchos (sin columna Estatus) */
.data-table thead th:first-child{ width: 42px; }     /* Estado */
.data-table thead th:nth-child(2){ width: 40%; }     /* Título */
.data-table thead th:nth-child(3){ width: 16%; }     /* Código */
.data-table thead th:nth-child(4){ width: 16%; }     /* Categoría */
.data-table thead th:nth-child(5){ width: 12%; }     /* Tipo */
.data-table thead th:nth-child(6){ width: 12%; }     /* Fecha */
.data-table thead th:nth-child(7){ width: 120px; }   /* Días */

/* Filas y celdas (centradas) */
.data-table tbody tr{ background: var(--panel); border-bottom: 1px solid var(--line-soft); transition: background .12s ease; }
.data-table tbody tr:nth-child(even){ background: var(--panel-2); }
.data-table tbody tr:hover{ background: #efefef; }
.data-table td{
  padding: 12px 14px; vertical-align: middle; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
  text-align: center;
}

/* Estado (punto) */
.col-estado{ width: 42px; }
.dot{ display: inline-block; width: 10px; height: 10px; border-radius: 50%; box-shadow: 0 0 0 3px rgba(0,0,0,.05); }
.dot.positivo{ background: var(--ok); } .dot.cercano{ background: var(--warn); } .dot.negativo{ background: var(--bad); }

/* Columna Título */
.col-titulo{ width: 40%; }
.col-titulo .title{ font-weight: 700; line-height: 1.25; overflow: hidden; text-overflow: ellipsis; }
.col-titulo .subtitle{ margin-top: 2px; color: var(--muted); font-size: 12px; overflow: hidden; text-overflow: ellipsis; }

/* Enlaces */
a{ color: #0a58ca; text-decoration: none; } a:hover{ text-decoration: underline; }

/* Columna Días (centro) */
.col-dias{ text-align: center; }
.pill{
  display: inline-flex; align-items: center; justify-content: center;
  min-width: 74px; height: 28px; padding: 0 10px; border-radius: 999px; font-weight: 800;
  font-variant-numeric: tabular-nums; border: 1px solid #000; background: #fff;
}
.pill.positivo{ border-color: var(--ok); color: var(--ok); }
.pill.cercano { border-color: var(--warn); color: var(--warn); }
.pill.negativo{ border-color: var(--bad); color: var(--bad); }
.dias-label{ font-size: 11px; color: var(--muted); display: block; margin-top: 4px; text-align: center; }

/* Texto genérico */
.col-categoria, .col-tipo, .col-fecha{ color: #333; }

/* Foco accesible */
.data-table tbody tr:focus-within{ outline: 3px solid rgba(var(--brand-r), var(--brand-g), var(--brand-b), .35); outline-offset: -2px; }

/* Botón mini de expandir dentro de la primera celda (no altera el layout) */
.col-estado { position: relative; }

.row-toggle{
  position: absolute;
  left: 6px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  border: 1px solid var(--line);
  border-radius: 50%;
  background: #fff;
  color: var(--brand);
  font-size: 12px;
  line-height: 14px;
  padding: 0;
  display: grid;
  place-items: center;
  cursor: pointer;
}
.row-toggle:hover{ background: var(--panel-2); }

.col-estado .dot {
  margin-left: 16px;
}

/* Detalle expandido sin tocar la altura de la fila principal */
.expanded-row td{
  background: #fafafa;
  border-top: 1px solid var(--line);
}
.expanded-content{
  padding: 12px 16px;
  font-size: 14px;
  line-height: 1.45;
}
.expanded-content h4{ margin: 0 0 6px; }

/* ===== Tooltip ===== */
.tooltip {
  position: absolute;
  padding: 12px 16px;
  background-color: #fff;
  border: 2px solid var(--brand);
  border-radius: 10px;
  box-shadow: var(--hover-neon);
  max-width: 280px;
  z-index: 1000;
}

/* Bordes según estado */
.border-positivo { border-color: var(--ok); }
.border-cercano  { border-color: var(--warn); }
.border-negativo { border-color: var(--bad); }
.border-default  { border-color: var(--brand); }

.tooltip-label {
  font-weight: 800;
  margin-bottom: 4px;
  font-size: 14px;
  color: black;
}

.tooltip-content {
  font-size: 13px;
  color: var(--text);
}

/* ===== Loading overlay ===== */
.loading-overlay{
  position: fixed; inset: 0; display: flex; justify-content: center; align-items: center;
  background: #fff; z-index: 9999;
}
.loading-content{ display: flex; flex-direction: column; align-items: center; gap: 60px; }
.loading-logo{ width: 500px; margin-bottom: 2px; }
.spinner{
  width: 42px; height: 42px; border-radius: 50%;
  border: 3px solid rgba(0,0,0,.15); border-top-color: #701B32; animation: spin 1s linear infinite;
}
.loading-text{ font-weight: 600; font-size: 20px; color: #111; opacity: .85; }
@keyframes spin { to { transform: rotate(360deg); } }

/* ===== Responsive ===== */
@media (max-width: 920px){
  .col-tipo{ display: none; }
  .data-table thead th:nth-child(2){ width: 42%; }
}
@media (max-width: 720px){
  .col-categoria{ display: none; }
  .data-table thead th:nth-child(2){ width: 48%; }
}
@media (max-width: 560px){
  .data-table thead{ display: none; }
  .data-table, .data-table tbody, .data-table tr, .data-table td{ display: block; width: 100%; }
  .data-table tr{ margin: 10px 0; border: 1px solid var(--line); border-radius: 10px; overflow: hidden; }
  .data-table td{ white-space: normal; }
  .col-estado{ border-bottom: 1px solid var(--line-soft); }
  .col-dias{ border-top: 1px solid var(--line-soft); }
}
